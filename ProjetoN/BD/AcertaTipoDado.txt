DELETE FROM COMPONENTE;
DELETE FROM MANUTENCAO;
DELETE FROM bens_imobilizados;


ALTER TABLE bens_imobilizados DROP CONSTRAINT FK_BENS_EMPRESA;
ALTER TABLE bens_imobilizados DROP CONSTRAINT FK_BENS_ESTCONSERVACAO;
ALTER TABLE bens_imobilizados DROP CONSTRAINT FK_BENS_LOCALIZACAO;
ALTER TABLE bens_imobilizados DROP CONSTRAINT FK_BENS_NOTA;
ALTER TABLE bens_imobilizados DROP CONSTRAINT FK_BENS_TIPO;
ALTER TABLE manutencao DROP CONSTRAINT FK_MANUTENCAO_BENS;
ALTER TABLE COMPONENTE DROP CONSTRAINT FK_COMPONENTE_MANUTENCAO;
ALTER TABLE COMPONENTE DROP CONSTRAINT FK_COMPONENTE_PRODUTO;
ALTER TABLE COMPONENTE DROP CONSTRAINT PK_COMPONENTE;
ALTER TABLE MANUTENCAO DROP CONSTRAINT PK_MANUTENCAO;
ALTER TABLE manutencao DROP MAN_BEN;
ALTER TABLE bens_imobilizados DROP constraint PK_BENS_IMOBILIZADOS;
ALTER TABLE bens_imobilizados DROP BNI_CODIGO;
ALTER TABLE manutencao ADD MAN_BEN VARCHAR (30) NOT NULL;
ALTER TABLE bens_imobilizados ADD BNI_CODIGO VARCHAR(30) NOT NULL;


ALTER TABLE BENS_IMOBILIZADOS ADD CONSTRAINT PK_BENS_IMOBILIZADOS PRIMARY KEY (BNI_EMPRESA, BNI_CODIGO, BNI_NUM_SERIE);
ALTER TABLE COMPONENTE ADD CONSTRAINT PK_COMPONENTE PRIMARY KEY (COM_EMPRESA, COM_CODIGO);
ALTER TABLE MANUTENCAO ADD CONSTRAINT PK_MANUTENCAO PRIMARY KEY (MAN_EMPRESA, MAN_CODIGO);
ALTER TABLE BENS_IMOBILIZADOS ADD CONSTRAINT FK_BENS_EMPRESA FOREIGN KEY (BNI_EMPRESA) REFERENCES EMPRESA (EMP_COD);
ALTER TABLE BENS_IMOBILIZADOS ADD CONSTRAINT FK_BENS_ESTCONSERVACAO FOREIGN KEY (BNI_ESTADO_CONSERVACAO) REFERENCES ESTADO_DE_CONSERVACAO (EDC_CODIGO);
ALTER TABLE BENS_IMOBILIZADOS ADD CONSTRAINT FK_BENS_LOCALIZACAO FOREIGN KEY (BNI_LOCALIZACAO) REFERENCES LOCALIZACAO (LOC_CODIGO);
ALTER TABLE BENS_IMOBILIZADOS ADD CONSTRAINT FK_BENS_NOTA FOREIGN KEY (BNI_EMPRESA, BNI_NR_NOTA, BNI_FORNECEDOR) REFERENCES NOTA_ENTRADA (NTE_EMPRESA, NTE_NR_NOTA, NTE_PESSOA);
ALTER TABLE BENS_IMOBILIZADOS ADD CONSTRAINT FK_BENS_TIPO FOREIGN KEY (BNI_TIPO) REFERENCES TIPO_DE_BENS (TPB_CODIGO);
ALTER TABLE COMPONENTE ADD CONSTRAINT FK_COMPONENTE_MANUTENCAO FOREIGN KEY (COM_EMPRESA, COM_MANUTENCAO) REFERENCES MANUTENCAO (MAN_EMPRESA, MAN_CODIGO);
ALTER TABLE COMPONENTE ADD CONSTRAINT FK_COMPONENTE_PRODUTO FOREIGN KEY (COM_EMPRESA, COM_CODIGO) REFERENCES PRODUTOS (PRO_EMPRESA, PRO_CODIGO);
ALTER TABLE MANUTENCAO ADD CONSTRAINT FK_MANUTENCAO_BENS FOREIGN KEY (MAN_EMPRESA, MAN_BEN, MAN_NUM_SERIE) REFERENCES BENS_IMOBILIZADOS (BNI_EMPRESA, BNI_CODIGO, BNI_NUM_SERIE);
